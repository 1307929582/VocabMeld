import"./chunks/modulepreload-polyfill-B5Qt9EMX.js";/* empty css                          */import{s as d}from"./chunks/storage-DOvsNEMd.js";class s{constructor(){this.queue=[],this.currentIndex=0,this.reviewedToday=0,this.flashcard=document.getElementById("flashcard"),this.container=document.getElementById("flashcard-container"),this.emptyState=document.getElementById("review-empty"),this.init()}async init(){const t=localStorage.getItem("vocabmeld-theme")||"light";document.documentElement.setAttribute("data-theme",t);const n=document.getElementById("theme-toggle-review");if(n.textContent=t==="dark"?"â˜€ï¸":"ðŸŒ™",n.addEventListener("click",()=>{const e=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";document.documentElement.setAttribute("data-theme",e),localStorage.setItem("vocabmeld-theme",e),n.textContent=e==="dark"?"â˜€ï¸":"ðŸŒ™"}),await this.loadQueue(),this.queue.length===0){this.showEmpty();return}this.showCard(),this.bindEvents()}async loadQueue(){const t=await d.getConfig(),n=t.learnedWords||[],i=t.memorizeList||[];this.queue=[...n.map(e=>({original:e.original,translation:e.word||"",difficulty:e.difficulty||"B1",type:"learned"})),...i.map(e=>({original:e.word,translation:"å¾…å¤ä¹ ",difficulty:e.difficulty||"B1",type:"memorize"}))].sort(()=>Math.random()-.5).slice(0,20),document.getElementById("progress-total").textContent=this.queue.length,document.getElementById("review-remaining").textContent=this.queue.length}showCard(){if(this.currentIndex>=this.queue.length){this.showEmpty();return}const t=this.queue[this.currentIndex];document.getElementById("card-word").textContent=t.original,document.getElementById("card-translation").textContent=t.translation,document.getElementById("card-phonetic").textContent=t.phonetic||"",document.getElementById("card-difficulty").textContent=t.difficulty,document.getElementById("progress-current").textContent=this.currentIndex+1,document.getElementById("progress-fill").style.width=(this.currentIndex+1)/this.queue.length*100+"%",this.flashcard.classList.remove("flipped")}showEmpty(){this.container.classList.add("hidden"),this.emptyState.classList.remove("hidden")}bindEvents(){this.flashcard.addEventListener("click",()=>{this.flashcard.classList.toggle("flipped")}),document.getElementById("btn-hard").addEventListener("click",()=>this.rate(1)),document.getElementById("btn-good").addEventListener("click",()=>this.rate(3)),document.getElementById("btn-easy").addEventListener("click",()=>this.rate(5)),document.addEventListener("keydown",t=>{t.key===" "&&(t.preventDefault(),this.flashcard.classList.toggle("flipped")),t.key==="1"&&this.rate(1),t.key==="2"&&this.rate(3),t.key==="3"&&this.rate(5)})}rate(t){this.reviewedToday++,document.getElementById("review-today-count").textContent=this.reviewedToday,document.getElementById("review-remaining").textContent=this.queue.length-this.currentIndex-1,this.currentIndex++,this.showCard()}}new s;
